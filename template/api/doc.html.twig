<html>
    <head>
        <meta charset="utf-8">
        <title>{{ siteInfo.name | capitalize }}'s API Document</title>
        <link href='/lib/swagger-ui-2.2.8/css/typography.css' media='screen' rel='stylesheet' type='text/css'/>
        <link href='/lib/swagger-ui-2.2.8/css/reset.css' media='screen' rel='stylesheet' type='text/css'/>
        <link href='/lib/swagger-ui-2.2.8/css/screen.css' media='screen' rel='stylesheet' type='text/css'/>
        <link href='/lib/swagger-ui-2.2.8/css/reset.css' media='print' rel='stylesheet' type='text/css'/>
        <link href='/lib/swagger-ui-2.2.8/css/print.css' media='print' rel='stylesheet' type='text/css'/>
        <style>
            .alert{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}
            .alert-danger{color:#a94442;background-color:#f2dede;border-color:#ebccd1}
        </style>
        <script src='/lib/swagger-ui-2.2.8/lib/object-assign-pollyfill.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/jquery-1.8.0.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/jquery.slideto.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/jquery.wiggle.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/jquery.ba-bbq.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/handlebars-4.0.5.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/lodash.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/backbone-min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/swagger-ui.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/highlight.9.1.0.pack.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/highlight.9.1.0.pack_extended.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/jsoneditor.min.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/marked.js' type='text/javascript'></script>
        <script src='/lib/swagger-ui-2.2.8/lib/swagger-oauth.js' type='text/javascript'></script>
        <script type="text/javascript">
            $(function () {
                var url = window.location.search.match(/url=([^&]+)/);
                if (url && url.length > 1) {
                    url = decodeURIComponent(url[1]);
                } else {
                    url = "/api/swagger.json";
                }

                hljs.configure({
                    highlightSizeThreshold: 5000
                });
                window.swaggerUi = new SwaggerUi({
                    url: url,
                    validatorUrl : null,
                    dom_id: "swagger-ui-container",
                    supportedSubmitMethods: ['get', 'post', 'put', 'delete'],
                    onFailure: function(data) {
                        $('#swagger-ui-container').html("Unable to load the API specifications, please contact the webmaster");
                    },
                    docExpansion: "list",
                    jsonEditor: true,
                    defaultModelRendering: 'schema',
                    showRequestHeaders: false
                });

                window.swaggerUi.load();
            });
        </script>
    </head>
    <body class="swagger-section">
        <div class="swagger-ui-wrap">
            <h1 style="font-size: 36px;">{{ siteInfo.name | capitalize }} API v1</h1>
            <p>
                The new Mutube API is pretty empty right now. That's normal, we only created really necessary commands.
                Please contact the webmaster if you need a new command.
            </p>
        </div>
        <div class="swagger-ui-wrap">
            <div class="info_title">Authentication</div>
            <ol>
                <li><strong>By token</strong>: Append <a href="/user/profile">your API token</a> to all services urls you need to call. For example: <a href="/api/run/trackData/get/{youtube_id}?token=XXX">/api/run/trackData/get/{youtube_id}?token=XXX</a></li>
                <li><strong>By browser session recycling</strong>: Just log into {{ siteInfo.name }} from the classical <a href="/admin-login">/admin-login</a> form and access the API with your browser session</li>
            </ol>
        </div>
        <div class="swagger-ui-wrap">
            <div class="alert alert-danger">
                WARNING, you are logged in, all <strong>POST</strong>, <strong>PUT</strong>, <strong>DELETE</strong> requests made from here are persistent!
            </div>
        </div>
        <div id="swagger-ui-container" class="swagger-ui-wrap">
            Services definition loading...
        </div>
    </body>
</html>
